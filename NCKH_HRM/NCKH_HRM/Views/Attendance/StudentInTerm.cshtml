@model IEnumerable<NCKH_HRM.ViewModels.StudentInTerm>
@{
    ViewData["Title"] = "Home Page";
    var stt = 0;
}

<h1 class="py-3">Danh sách điểm danh sinh viên học phần @ViewBag.TermName</h1>

<div class="container m-auto">
    <form method="post" asp-action="Import" enctype="multipart/form-data">
        <div>
            <label>Upload Excel File</label>
            <input type="file" name="file" />
        </div>
        <div class="d-flex justify-content-between mb-3">
            <input type="submit" class="btn btn-primary" value="Nhập file excel" />
        </div>
        @foreach (var item in Model)
        {
            <input name="Id" value="@item.Id" hidden />
            <input name="AttendanceId" value="@item.AttendanceId" hidden />
            <input name="DetailTermId" value="@item.DetailTermId" hidden />
            <input name="DateLearnId" value="@item.DateLearnId" hidden />
        }
    </form>
    <form method="post" asp-action="StudentInTerm">
        <div class="d-flex justify-content-between mb-3">
            <input type="submit" onclick="return confirm('Bạn đã điểm danh xong?');" class="btn btn-success" value="Điểm danh" />
        </div>
        <div class="card">
            <div class="card-body">
                <div class="row mb-3 sticky-header">
                    <div class="col-1 d-lg-block d-none"><strong>STT</strong></div>
                    <div class="col-2 d-lg-block d-none"><strong>Mã sinh viên</strong></div>
                    <div class="col-3 d-lg-block d-none"><strong>Tên sinh viên</strong></div>
                    <div class="col-2 d-lg-block d-none"><strong>Đầu giờ</strong></div>
                    <div class="col-2 d-lg-block d-none"><strong>Cuối giờ</strong></div>
                    <div class="col-2 d-lg-block d-none"><strong>Ghi chú</strong></div>
                    @* responsive khi màn hình dưới 960px *@
                    <div class="col-1 d-lg-none"><strong>#</strong></div>
                    <div class="col-3 d-lg-none"><strong>MSV</strong></div>
                    <div class="col-4 d-lg-none"><strong>Tên</strong></div>
                    <div class="col-2 d-lg-none"><strong>ĐG</strong></div>
                    <div class="col-2 d-lg-none"><strong>CG</strong></div>
                </div>
                @foreach (var item in Model)
                {
                    stt++;
                    <div class="row mb-3">
                        <div class="col-1">@stt</div>
                        <div class="col-2">@item.StudentCode</div>
                        <div class="col-3">@item.StudentName</div>
                        @* <div class="col-1">
                            <input type="radio" value="1" @(item.Status == 1 ? "checked" : "") name="status-@stt" required>
                        </div>
                        <div class="col-1">
                            <input type="radio" value="2" @(item.Status == 2 ? "checked" : "") name="status-@stt">
                        </div>
                        <div class="col-1">
                            <input type="radio" value="3" @(item.Status == 3 ? "checked" : "") name="status-@stt">
                        </div>
                        <div class="col-1">
                            <input type="radio" value="4" @(item.Status == 4 ? "checked" : "") name="status-@stt">
                        </div> *@
                        <div class="col-2">
                            <select class="form-control" asp-for="@item.BeginClass" name="BeginClass">
                                <option value="null"></option>
                                <option value="1">Có mặt</option>
                                <option value="2">Vắng</option>
                                <option value="3">Phép</option>
                            </select>
                        </div>
                        <div class="col-2">
                            <select class="form-control" asp-for="@item.EndClass" name="EndClass">
                                <option value="null"></option>
                                <option value="1">Có mặt</option>
                                <option value="2">Vắng</option>
                                <option value="3">Phép</option>
                            </select>
                        </div>
                        <div class="col-2">
                            <textarea asp-for="@item.Description" name="Description"></textarea>
                        </div>
                    </div>
                    <input name="Id" value="@item.Id" hidden />
                    <input name="AttendanceId" value="@item.AttendanceId" hidden />
                    <input name="DetailTermId" value="@item.DetailTermId" hidden />
                    <input name="DateLearnId" value="@item.DateLearnId" hidden />
                }
            </div>
        </div>
    </form>
</div>